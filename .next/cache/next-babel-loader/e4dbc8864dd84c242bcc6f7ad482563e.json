{"ast":null,"code":"import faunadb from 'faunadb';\nimport cookie from 'cookie';\nexport const FAUNA_SECRET_COOKIE = 'faunaSecret';\nexport const serverClient = new faunadb.Client({\n  secret: process.env.FAUNA_SERVER_KEY\n}); // Used for any authed requests.\n\nexport const faunaClient = secret => new faunadb.Client({\n  secret\n});\nexport const serializeFaunaCookie = userSecret => {\n  const cookieSerialized = cookie.serialize(FAUNA_SECRET_COOKIE, userSecret, {\n    sameSite: 'lax',\n    secure: false,\n    maxAge: 72576000,\n    httpOnly: true,\n    path: '/'\n  });\n  return cookieSerialized;\n};","map":{"version":3,"sources":["C:/Users/marchi/projects/testyesty/utils/fauna-auth.js"],"names":["faunadb","cookie","FAUNA_SECRET_COOKIE","serverClient","Client","secret","process","env","FAUNA_SERVER_KEY","faunaClient","serializeFaunaCookie","userSecret","cookieSerialized","serialize","sameSite","secure","maxAge","httpOnly","path"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,MAAMC,mBAAmB,GAAG,aAA5B;AAEP,OAAO,MAAMC,YAAY,GAAG,IAAIH,OAAO,CAACI,MAAZ,CAAmB;AAC7CC,EAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADyB,CAAnB,CAArB,C,CAIP;;AACA,OAAO,MAAMC,WAAW,GAAIJ,MAAD,IACzB,IAAIL,OAAO,CAACI,MAAZ,CAAmB;AACjBC,EAAAA;AADiB,CAAnB,CADK;AAKP,OAAO,MAAMK,oBAAoB,GAAIC,UAAD,IAAgB;AAClD,QAAMC,gBAAgB,GAAGX,MAAM,CAACY,SAAP,CAAiBX,mBAAjB,EAAsCS,UAAtC,EAAkD;AACzEG,IAAAA,QAAQ,EAAE,KAD+D;AAEzEC,IAAAA,MAAM,OAFmE;AAGzEC,IAAAA,MAAM,EAAE,QAHiE;AAIzEC,IAAAA,QAAQ,EAAE,IAJ+D;AAKzEC,IAAAA,IAAI,EAAE;AALmE,GAAlD,CAAzB;AAOA,SAAON,gBAAP;AACD,CATM","sourcesContent":["import faunadb from 'faunadb'\r\nimport cookie from 'cookie'\r\n\r\nexport const FAUNA_SECRET_COOKIE = 'faunaSecret'\r\n\r\nexport const serverClient = new faunadb.Client({\r\n  secret: process.env.FAUNA_SERVER_KEY,\r\n})\r\n\r\n// Used for any authed requests.\r\nexport const faunaClient = (secret) =>\r\n  new faunadb.Client({\r\n    secret,\r\n  })\r\n\r\nexport const serializeFaunaCookie = (userSecret) => {\r\n  const cookieSerialized = cookie.serialize(FAUNA_SECRET_COOKIE, userSecret, {\r\n    sameSite: 'lax',\r\n    secure: process.env.NODE_ENV === 'production',\r\n    maxAge: 72576000,\r\n    httpOnly: true,\r\n    path: '/',\r\n  })\r\n  return cookieSerialized\r\n}\r\n"]},"metadata":{},"sourceType":"module"}